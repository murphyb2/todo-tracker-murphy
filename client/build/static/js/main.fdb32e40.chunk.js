(this["webpackJsonptodo-tracker-client"]=this["webpackJsonptodo-tracker-client"]||[]).push([[0],{102:function(e,t,a){},103:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(27),o=a.n(r),l=a(10),s=a(20),d=a.n(s),u=a(33),i=a(26),m=a(49),p=function(e,t){switch(t.type){case"CLEAR_MESSAGE":return Object(l.a)(Object(l.a)({},e),{},{messages:e.messages.filter((function(e){return e.id!==t.payload}))});case"GET_TODOS":return Object(l.a)(Object(l.a)({},e),{},{loading:!1,todos:t.payload});case"DELETE_TODO":return Object(l.a)(Object(l.a)({},e),{},{messages:[].concat(Object(m.a)(e.messages),[{success:t.payload.success,message:t.payload.msg,id:t.payload.id}]),todos:e.todos.filter((function(e){return e._id!==t.payload.id}))});case"ADD_TODO":return console.log(t.payload),Object(l.a)(Object(l.a)({},e),{},{messages:[].concat(Object(m.a)(e.messages),[{success:t.payload.success,message:t.payload.msg,id:t.payload.data._id}]),todos:[].concat(Object(m.a)(e.todos),[t.payload.data])});case"TODO_ERROR":return Object(l.a)(Object(l.a)({},e),{},{success:!1,error:t.payload});case"SET_AUTH_STATE":return Object(l.a)(Object(l.a)({},e),{},{isAuthenticated:t.payload.authenticated,todos:t.payload.todos,profile:t.payload.user});default:return e}},E=a(39),f=a.n(E),h={todos:[],isAuthenticated:!1,profile:{},messages:[]},b=Object(n.createContext)(h),y=function(e){var t=e.children,a=Object(n.useReducer)(p,h),r=Object(i.a)(a,2),o=r[0],s=r[1];function m(){return(m=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("/auth/status");case 3:t=e.sent,s({type:"SET_AUTH_STATE",payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function E(){return(E=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("/api/v1/todos");case 3:t=e.sent,s({type:"GET_TODOS",payload:t.data.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s({type:"TODO_ERROR",payload:e.t0.response.data.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function y(){return(y=Object(u.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.delete("/api/v1/todos/".concat(t));case 3:a=e.sent,s({type:"DELETE_TODO",payload:Object(l.a)(Object(l.a)({},a.data),{},{id:t})}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s({type:"TODO_ERROR",payload:e.t0.response.data});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function g(){return(g=Object(u.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,f.a.post("/api/v1/todos",t,a);case 4:n=e.sent,s({type:"ADD_TODO",payload:n.data}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),s({type:"TODO_ERROR",payload:e.t0.response.data});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function O(){return(O=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s({type:"CLEAR_MESSAGE",payload:t});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return c.a.createElement(b.Provider,{value:{todos:o.todos,isAuthenticated:o.isAuthenticated,profile:o.profile,messages:o.messages,getTodos:function(){return E.apply(this,arguments)},deleteTodo:function(e){return y.apply(this,arguments)},addTodo:function(e){return g.apply(this,arguments)},getAuthState:function(){return m.apply(this,arguments)},clearMessage:function(e){return O.apply(this,arguments)}}},t)},g=a(14),O=a(6),v=a(48),x=function(e){var t=e.component,a=Object(v.a)(e,["component"]),r=Object(n.useContext)(b),o=r.isAuthenticated,l=r.getAuthState;return Object(n.useEffect)((function(){l()}),[]),c.a.createElement(O.b,Object.assign({},a,{component:function(e){return o?c.a.createElement(O.a,{to:"/dashboard"}):c.a.createElement(t,e)}}))},j=a(15),N=a(16),T=a(56),w=a(28),D=function(){var e=Object(n.useContext)(b),t=e.messages,a=e.clearMessage;return c.a.createElement("div",null,c.a.createElement("div",{style:{position:"absolute",top:0,right:0,zindex:1}},t.map((function(e){return c.a.createElement(T.a,{key:e.id,style:{background:e.success?"seagreen":"red",width:"33vw"},className:"mt-2 mr-2",onClose:function(){return t=e.id,void a(t);var t},show:!0,delay:5e3,autohide:!0,animation:!0,transition:w.a},c.a.createElement(T.a.Body,{className:"d-flex flex-nowrap"},c.a.createElement(j.a,{className:"mr-1 text-light",icon:e.success?N.c:N.h}),c.a.createElement("div",{className:"text-light"},e.message)))}))))},A=a(24),C=function(e){var t=e.toggled,a=e.handleSetToggled,r=Object(n.useContext)(b).profile,o=Object(O.h)().pathname,l=c.a.createElement("div",{className:"d-flex flex-column justify-content-around p-3"},c.a.createElement(g.b,{to:"/",className:"mx-auto"},c.a.createElement("img",{src:r.image,alt:r.displayName,className:"img-thumbnail rounded p-0 m-auto"})),c.a.createElement("div",null,c.a.createElement("h3",{className:"p-2 text-center"},r.firstName)));return c.a.createElement(A.c,{toggled:t,onToggle:a,breakPoint:"md"},c.a.createElement(A.e,null,l),c.a.createElement(A.a,{iconShape:"round"},c.a.createElement(A.b,{className:"/dashboard"===o?"todo-active-menuitem":"",active:"/dashboard"===o,icon:c.a.createElement(j.a,{icon:N.e})},"Dashboard",c.a.createElement(g.b,{to:"/dashboard"})),c.a.createElement(A.b,{className:"/add"===o?"todo-active-menuitem":"",active:"/add"===o,icon:c.a.createElement(j.a,{icon:N.f})},"Add a ToDo",c.a.createElement(g.b,{to:"/add"}))),c.a.createElement(A.d,null,c.a.createElement(A.a,{iconShape:"round"},c.a.createElement(A.b,{icon:c.a.createElement(j.a,{icon:N.g})},c.a.createElement("a",{href:"/auth/logout"},"Logout")))))},S=function(e){var t=e.children,a=Object(n.useState)(!1),r=Object(i.a)(a,2),o=r[0],l=r[1],s=function(e){return l(e)};return c.a.createElement(c.a.Fragment,null,c.a.createElement(D,{style:{position:"relative",minHeight:"200px",zindex:"1"}}),c.a.createElement("div",{className:"d-flex flex-row",style:{height:"100vh"}},c.a.createElement(j.a,{style:{position:"absolute",zindex:"-1",left:"0",top:"0"},className:"d-md-none pt-1 pl-1",size:"2x",icon:N.a,onClick:function(){return s(!0)}}),c.a.createElement(C,{style:{position:"absolute",left:"0",top:"0",zindex:"1"},toggled:o,handleSetToggled:s}),c.a.Children.map(t,(function(e){var t={handleSetToggled:s};return c.a.isValidElement(e)?c.a.cloneElement(e,t):e}))))},k=function(e){var t=e.component,a=Object(v.a)(e,["component"]),r=Object(n.useContext)(b),o=r.isAuthenticated,l=r.getAuthState;return Object(n.useEffect)((function(){l()}),[]),c.a.createElement(O.b,Object.assign({},a,{component:function(e){return o?c.a.createElement(S,null,c.a.createElement(t,e)):c.a.createElement(O.a,{to:"/"})}}))},_=a(23),R=a(19),H=a(69),B=function(){return c.a.createElement(_.a,{centered:!0,show:!0},c.a.createElement(_.a.Header,{className:"todo-modal-header"},c.a.createElement(_.a.Title,{className:"mx-auto"},"Login")),c.a.createElement(_.a.Body,{className:"text-center"},c.a.createElement("p",null,"Login with Google to organize your life!"),c.a.createElement(R.a,{variant:"outline-primary",href:"/auth/google"},c.a.createElement("div",{className:"d-flex"},c.a.createElement("div",{className:"pr-2"},c.a.createElement(j.a,{icon:H.a})),c.a.createElement("div",null,"Sign In with Google")))))},G=a(32),L=a(70),M=a(9),Y=a(29),z=function(e){var t=e.todos;return c.a.createElement(Y.a,null,t.map((function(e){return c.a.createElement(Y.a.Item,{key:e._id,variant:e.completed?"success":""},e.text,c.a.createElement(g.b,{className:"text-decoration-none float-right",to:"/todos/".concat(e._id)},"Edit"))})))},I=function(){var e=Object(n.useContext)(b),t=e.todos,a=e.profile,r=t.filter((function(e){return!0!==e.completed}));return c.a.createElement("div",{className:"w-100 p-3 bg-todo-primary",style:{overflow:"auto"}},c.a.createElement(G.a,null,c.a.createElement("h1",{className:"todo-title"},"Welcome ",a.firstName),c.a.createElement("h3",null,"Your week at a glance..."),c.a.createElement(L.a,null,c.a.createElement(G.a,null,c.a.createElement(M.a,{className:"shadow"},c.a.createElement(M.a.Header,null,c.a.createElement("h5",null,"Due Today")),c.a.createElement(M.a.Body,{className:"todo-card-body"},c.a.createElement(z,{todos:r})))),c.a.createElement(G.a,{className:"h-100"},c.a.createElement("div",{className:"h-100 d-flex flex-column justify-content-around"},c.a.createElement(M.a,{className:"shadow"},c.a.createElement(M.a.Header,null,c.a.createElement("h5",null,"Upcoming")),c.a.createElement(M.a.Body,{className:"todo-card-body"},"Body")),c.a.createElement(M.a,{className:"shadow"},c.a.createElement(M.a.Header,null,c.a.createElement("h5",null,"Yet to Complete")),c.a.createElement(M.a.Body,{className:"todo-card-body"},"Body")))))))},U=a(40),F=a(46),J=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(n.useContext)(b).addTodo;return c.a.createElement("div",{className:"h-100 w-100"},c.a.createElement(F.a,{className:"mt-3"},c.a.createElement(U.a,{className:"mx-auto",onSubmit:function(e){e.preventDefault(),o({text:a})}},c.a.createElement("h4",null,"Add new todo"),c.a.createElement(U.a.Group,{controlId:"todoText"},c.a.createElement(U.a.Label,null,"New ToDo"),c.a.createElement(U.a.Control,{type:"text",placeholder:"Enter a new ToDo...",value:a,onChange:function(e){return r(e.target.value)}})),c.a.createElement(R.a,{type:"submit"},"Add todo"))))},P=a(47),V=a(71),W=a.n(V),q=function(e){var t=e.show,a=e.handleCancel,n=e.confirmDelete;return c.a.createElement(_.a,{show:t,onHide:a},c.a.createElement(_.a.Header,null,"Are you sure you want to delete this todo?"),c.a.createElement(_.a.Body,null,c.a.createElement(P.a,null,c.a.createElement(R.a,{variant:"danger",onClick:n},"Yes"),c.a.createElement(R.a,{variant:"secondary",onClick:a},"Cancel"))))},K=function(){var e=Object(O.g)(),t=Object(O.i)().id,a=Object(n.useContext)(b),r=a.todos,o=a.deleteTodo,l=r.find((function(e){return e._id===t})),s=Object(n.useState)(!1),d=Object(i.a)(s,2),u=d[0],m=d[1];return c.a.createElement(F.a,{className:"h-100 w-100"},c.a.createElement(q,{show:u,confirmDelete:function(){o(l._id),e.push("/dashboard")},handleCancel:function(){return m(!1)}}),c.a.createElement(g.b,{to:"/"},c.a.createElement(R.a,null,"Go Home")),c.a.createElement(M.a,{className:"shadow"},c.a.createElement(M.a.Header,null,c.a.createElement("h1",null,l.text)),c.a.createElement(M.a.Body,null,c.a.createElement(Y.a,null,c.a.createElement(Y.a.Item,null,"Date added: ",W()(l.createdAt).format("MMMM Do, YYYY")),c.a.createElement(Y.a.Item,null,"Completed: ",l.completed?"All done!":"Nope!"," ",c.a.createElement(j.a,{icon:l.completed?N.b:N.d})))),c.a.createElement(M.a.Footer,{className:"bg-secondary text-center"},c.a.createElement(M.a.Title,null,"Actions"),c.a.createElement(P.a,null,c.a.createElement(R.a,null,"Edit"),c.a.createElement(R.a,{onClick:function(){return m(!0)},variant:"danger"},"Delete")))))},Q=function(){return c.a.createElement(g.a,null,c.a.createElement(O.d,null,c.a.createElement(x,{path:"/",exact:!0,component:B}),c.a.createElement(k,{path:"/dashboard",exact:!0,component:I}),c.a.createElement(k,{path:"/add",component:J}),c.a.createElement(k,{path:"/todos/:id",component:K})))},X=(a(102),function(){return c.a.createElement(y,null,c.a.createElement(Q,null))});o.a.render(c.a.createElement(X,null),document.getElementById("root"))},72:function(e,t,a){e.exports=a(103)}},[[72,1,2]]]);
//# sourceMappingURL=main.fdb32e40.chunk.js.map