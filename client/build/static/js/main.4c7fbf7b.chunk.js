(this["webpackJsonptodo-tracker-client"]=this["webpackJsonptodo-tracker-client"]||[]).push([[0],{68:function(e,t,a){e.exports=a(98)},97:function(e,t,a){},98:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(23),o=a.n(r),l=a(8),s=a(16),u=a.n(s),i=a(29),d=a(25),m=a(44),p=function(e,t){switch(t.type){case"CLEAR_MESSAGE":return Object(l.a)(Object(l.a)({},e),{},{messages:e.messages.filter((function(e){return e.id!==t.payload}))});case"GET_TODOS":return Object(l.a)(Object(l.a)({},e),{},{loading:!1,todos:t.payload});case"DELETE_TODO":return Object(l.a)(Object(l.a)({},e),{},{messages:[].concat(Object(m.a)(e.messages),[{success:t.payload.success,message:t.payload.msg,id:t.payload.id}]),todos:e.todos.filter((function(e){return e._id!==t.payload.id}))});case"ADD_TODO":return console.log(t.payload),Object(l.a)(Object(l.a)({},e),{},{messages:[].concat(Object(m.a)(e.messages),[{success:t.payload.success,message:t.payload.msg,id:t.payload.data._id}]),todos:[].concat(Object(m.a)(e.todos),[t.payload.data])});case"TODO_ERROR":return Object(l.a)(Object(l.a)({},e),{},{success:!1,error:t.payload});case"SET_AUTH_STATE":return Object(l.a)(Object(l.a)({},e),{},{isAuthenticated:t.payload.authenticated,todos:t.payload.todos,profile:t.payload.user});default:return e}},E=a(34),f=a.n(E),h={todos:[],isAuthenticated:!1,profile:{},messages:[]},g=Object(n.createContext)(h),b=function(e){var t=e.children,a=Object(n.useReducer)(p,h),r=Object(d.a)(a,2),o=r[0],s=r[1];function m(){return(m=Object(i.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("/auth/status");case 3:t=e.sent,s({type:"SET_AUTH_STATE",payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function E(){return(E=Object(i.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("/api/v1/todos");case 3:t=e.sent,s({type:"GET_TODOS",payload:t.data.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s({type:"TODO_ERROR",payload:e.t0.response.data.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function b(){return(b=Object(i.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.delete("/api/v1/todos/".concat(t));case 3:a=e.sent,s({type:"DELETE_TODO",payload:Object(l.a)(Object(l.a)({},a.data),{},{id:t})}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s({type:"TODO_ERROR",payload:e.t0.response.data});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function O(){return(O=Object(i.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,f.a.post("/api/v1/todos",t,a);case 4:n=e.sent,s({type:"ADD_TODO",payload:n.data}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),s({type:"TODO_ERROR",payload:e.t0.response.data});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function y(){return(y=Object(i.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s({type:"CLEAR_MESSAGE",payload:t});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return c.a.createElement(g.Provider,{value:{todos:o.todos,isAuthenticated:o.isAuthenticated,profile:o.profile,messages:o.messages,getTodos:function(){return E.apply(this,arguments)},deleteTodo:function(e){return b.apply(this,arguments)},addTodo:function(e){return O.apply(this,arguments)},getAuthState:function(){return m.apply(this,arguments)},clearMessage:function(e){return y.apply(this,arguments)}}},t)},O=a(17),y=a(6),v=a(43),j=function(e){var t=e.component,a=Object(v.a)(e,["component"]),r=Object(n.useContext)(g),o=r.isAuthenticated,l=r.getAuthState;return Object(n.useEffect)((function(){l()}),[]),c.a.createElement(y.b,Object.assign({},a,{component:function(e){return o?c.a.createElement(y.a,{to:"/dashboard"}):c.a.createElement(t,e)}}))},x=a(9),T=a(11),w=a(52),S=a(24),k=function(){var e=Object(n.useContext)(g),t=e.messages,a=e.clearMessage;return c.a.createElement("div",null,c.a.createElement("div",{style:{position:"absolute",top:0,right:0,zindex:1}},t.map((function(e){return c.a.createElement(w.a,{key:e.id,style:{background:e.success?"seagreen":"red"},className:"mt-2 mr-2",onClose:function(){return t=e.id,void a(t);var t},show:!0,delay:5e3,autohide:!0,animation:!0,transition:S.a},c.a.createElement(w.a.Body,null,c.a.createElement(x.a,{className:"mr-1",icon:e.success?T.b:T.g}),e.message))}))))},A=a(19),D=function(e){var t=e.toggled,a=e.handleSetToggled,r=Object(n.useContext)(g).profile,o=c.a.createElement("div",{className:"d-flex flex-column justify-content-around p-3"},c.a.createElement("img",{src:r.image,alt:r.displayName,className:"img-thumbnail rounded p-0 m-auto"}),c.a.createElement("div",null,c.a.createElement("h3",{className:"p-2 text-center"},r.firstName,"!")));return c.a.createElement(A.c,{toggled:t,onToggle:a,breakPoint:"md"},c.a.createElement(A.e,null,o),c.a.createElement(A.a,{iconShape:"square"},c.a.createElement(A.b,{icon:c.a.createElement(x.a,{icon:T.c})},"Dashboard",c.a.createElement(O.b,{to:"/dashboard"})),c.a.createElement(A.b,{icon:c.a.createElement(x.a,{icon:T.e})},"Add a ToDo",c.a.createElement(O.b,{to:"/add"})),c.a.createElement(A.b,{icon:c.a.createElement(x.a,{icon:T.d})},"All ToDos",c.a.createElement(O.b,{to:"/todos"}))),c.a.createElement(A.d,null,c.a.createElement(A.a,{iconShape:"square"},c.a.createElement(A.b,{icon:c.a.createElement(x.a,{icon:T.f})},c.a.createElement("a",{href:"/auth/logout"},"Logout")))))},N=function(e){var t=e.children,a=Object(n.useState)(!1),r=Object(d.a)(a,2),o=r[0],l=r[1],s=function(e){return l(e)};return c.a.createElement(c.a.Fragment,null,c.a.createElement(k,{style:{position:"relative",minHeight:"200px"}}),c.a.createElement("div",{className:"d-flex flex-row",style:{height:"100vh"}},c.a.createElement(D,{toggled:o,handleSetToggled:s}),c.a.Children.map(t,(function(e){var t={handleSetToggled:s};return c.a.isValidElement(e)?c.a.cloneElement(e,t):e}))))},_=function(e){var t=e.component,a=Object(v.a)(e,["component"]),r=Object(n.useContext)(g),o=r.isAuthenticated,l=r.getAuthState;return Object(n.useEffect)((function(){l()}),[]),c.a.createElement(y.b,Object.assign({},a,{component:function(e){return o?c.a.createElement(N,null,c.a.createElement(t,e)):c.a.createElement(y.a,{to:"/"})}}))},C=a(35),R=a(42),L=a(65),G=function(){return c.a.createElement(C.a,{centered:!0,show:!0},c.a.createElement(C.a.Header,null,c.a.createElement(C.a.Title,{className:"text-center"},"Login")),c.a.createElement(C.a.Body,{className:"text-center"},c.a.createElement("p",null,"Login with Google to organize your life!"),c.a.createElement(R.a,{variant:"outline-primary",href:"/auth/google"},c.a.createElement("div",{className:"d-flex"},c.a.createElement("div",{className:"pr-2"},c.a.createElement(x.a,{icon:L.a})),c.a.createElement("div",null,"Sign In with Google")))))},H=a(51),I=a(28),M=a(66),B=function(e){var t=e.handleSetToggled,a=Object(n.useContext)(g),r=a.todos,o=a.profile,l=r.filter((function(e){return!0!==e.completed}));return c.a.createElement("div",{className:"w-100"},c.a.createElement(x.a,{className:"d-md-none",icon:T.a,onClick:function(){return t(!0)}}),c.a.createElement(I.a,null,c.a.createElement("h2",null,"Welcome ",o.firstName),c.a.createElement("h3",null,"Your week at a glance..."),c.a.createElement(M.a,null,c.a.createElement(I.a,null,c.a.createElement(H.a,null,c.a.createElement("h5",null,"Due Today"),l.map((function(e){return c.a.createElement(H.a.Item,{key:e._id,variant:e.completed?"success":""},e.text,c.a.createElement(O.b,{to:"/todos/".concat(e._id)},"Edit"))})))),c.a.createElement(I.a,null,c.a.createElement("h5",null,"Upcoming"),c.a.createElement("h5",null,"Yet to Complete")))))},U=a(36),q=a(67),z=function(e){var t=e.handleSetToggled,a=Object(n.useState)(""),r=Object(d.a)(a,2),o=r[0],l=r[1],s=Object(n.useContext)(g).addTodo;return c.a.createElement("div",{className:"h-100 w-100"},c.a.createElement(x.a,{className:"d-md-none",icon:T.a,onClick:function(){return t(!0)}}),c.a.createElement(q.a,null,c.a.createElement(U.a,{className:"mx-auto",onSubmit:function(e){console.log("onsubmit"),e.preventDefault(),s({text:o})}},c.a.createElement("h4",null,"Add new todo"),c.a.createElement(U.a.Group,{controlId:"todoText"},c.a.createElement(U.a.Label,null,"New ToDo"),c.a.createElement(U.a.Control,{type:"text",placeholder:"Enter a new ToDo...",value:o,onChange:function(e){return l(e.target.value)}})),c.a.createElement(R.a,{type:"submit"},"Add todo"))))},J=function(e){var t=e.todo,a=Object(n.useContext)(g).deleteTodo;return c.a.createElement("li",null,t.text," ",c.a.createElement("button",{onClick:function(){return a(t._id)},className:"delete-btn"},"x"))},P=function(e){var t=e.handleSetToggled,a=Object(n.useContext)(g).todos;return c.a.createElement("div",{className:"h-100 w-100"},c.a.createElement(x.a,{className:"d-md-none",icon:T.a,onClick:function(){return t(!0)}}),c.a.createElement("h3",null,"Everything"),c.a.createElement("ul",{className:"list"},a&&a.map((function(e){return c.a.createElement(J,{key:e._id,todo:e})}))))},Y=function(){return c.a.createElement(O.a,null,c.a.createElement(y.d,null,c.a.createElement(j,{path:"/",exact:!0,component:G}),c.a.createElement(_,{path:"/dashboard",exact:!0,component:B}),c.a.createElement(_,{path:"/add",component:z}),c.a.createElement(_,{path:"/todos",component:P})))},F=(a(97),function(){return c.a.createElement(b,null,c.a.createElement(Y,null))});o.a.render(c.a.createElement(F,null),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.4c7fbf7b.chunk.js.map