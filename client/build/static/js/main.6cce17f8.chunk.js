(this["webpackJsonptodo-tracker-client"]=this["webpackJsonptodo-tracker-client"]||[]).push([[0],{123:function(e,t,a){},125:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(26),l=a.n(o),r=a(8),s=a(16),d=a.n(s),u=a(32),i=a(12),m=a(33),p=function(e,t){switch(t.type){case"CLEAR_MESSAGE":return Object(r.a)(Object(r.a)({},e),{},{messages:e.messages.filter((function(e){return e.id!==t.payload}))});case"GET_TODOS":return Object(r.a)(Object(r.a)({},e),{},{loading:!1,todos:t.payload});case"DELETE_TODO":return Object(r.a)(Object(r.a)({},e),{},{messages:[].concat(Object(m.a)(e.messages),[{success:t.payload.success,message:t.payload.msg,id:t.payload.id}]),todos:e.todos.filter((function(e){return e._id!==t.payload.id}))});case"DELETE_TODO_LIST":return Object(r.a)(Object(r.a)({},e),{},{messages:[].concat(Object(m.a)(e.messages),[{success:t.payload.success,message:t.payload.msg,id:t.payload.id}]),todoLists:e.todoLists.filter((function(e){return e._id!==t.payload.id}))});case"EDIT_TODO":return Object(r.a)(Object(r.a)({},e),{},{messages:[].concat(Object(m.a)(e.messages),[{success:t.payload.success,message:t.payload.msg,id:t.payload.data._id}]),todos:e.todos.map((function(e){return e._id===t.payload.data._id?t.payload.data:e}))});case"ADD_TODO":return Object(r.a)(Object(r.a)({},e),{},{messages:[].concat(Object(m.a)(e.messages),[{success:t.payload.success,message:t.payload.msg,id:t.payload.data._id}]),todos:[].concat(Object(m.a)(e.todos),[t.payload.data])});case"ADD_TODO_LIST":return Object(r.a)(Object(r.a)({},e),{},{messages:[].concat(Object(m.a)(e.messages),[{success:t.payload.success,message:t.payload.msg,id:t.payload.data._id}]),todoLists:[].concat(Object(m.a)(e.todoLists),[t.payload.data])});case"TODO_ERROR":return Object(r.a)(Object(r.a)({},e),{},{success:!1,messages:[].concat(Object(m.a)(e.messages),[{success:!1,message:t.payload.msg[0],id:t.payload.msg[0]}])});case"SET_AUTH_STATE":return Object(r.a)(Object(r.a)({},e),{},{isAuthenticated:t.payload.authenticated,todos:t.payload.todos,todoLists:t.payload.todoLists,profile:t.payload.user});default:return e}},E=a(35),f=a.n(E),h={todos:[],todoLists:[],isAuthenticated:!1,profile:{},messages:[]},b=Object(n.createContext)(h),g=function(e){var t=e.children,a=Object(n.useReducer)(p,h),o=Object(i.a)(a,2),l=o[0],s=o[1];function m(){return(m=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("/auth/status");case 3:t=e.sent,s({type:"SET_AUTH_STATE",payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function E(){return(E=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("/api/v1/todos");case 3:t=e.sent,s({type:"GET_TODOS",payload:t.data.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s({type:"TODO_ERROR",payload:e.t0.response.data.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function g(){return(g=Object(u.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.delete("/api/v1/todos/".concat(t));case 3:a=e.sent,s({type:"DELETE_TODO",payload:Object(r.a)(Object(r.a)({},a.data),{},{id:t})}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s({type:"TODO_ERROR",payload:e.t0.response.data});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function O(){return(O=Object(u.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.delete("/api/v1/todos/list/".concat(t));case 3:a=e.sent,s({type:"DELETE_TODO_LIST",payload:Object(r.a)(Object(r.a)({},a.data),{},{id:t})}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s({type:"TODO_ERROR",payload:e.t0.response.data});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function y(){return(y=Object(u.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,f.a.post("/api/v1/todos/list",t,a);case 4:n=e.sent,s({type:"ADD_TODO_LIST",payload:n.data}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),s({type:"TODO_ERROR",payload:e.t0.response.data});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function v(){return(v=Object(u.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,f.a.post("/api/v1/todos",t,a);case 4:n=e.sent,s({type:"ADD_TODO",payload:n.data}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),s({type:"TODO_ERROR",payload:e.t0.response.data});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function j(){return(j=Object(u.a)(d.a.mark((function e(t,a){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,f.a.patch("/api/v1/todos/".concat(a),t,n);case 4:c=e.sent,s({type:"EDIT_TODO",payload:c.data}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),s({type:"TODO_ERROR",payload:e.t0.response.data});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function x(){return(x=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s({type:"CLEAR_MESSAGE",payload:t});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return c.a.createElement(b.Provider,{value:{todos:l.todos,todoLists:l.todoLists,isAuthenticated:l.isAuthenticated,profile:l.profile,messages:l.messages,getTodos:function(){return E.apply(this,arguments)},deleteTodo:function(e){return g.apply(this,arguments)},deleteTodoList:function(e){return O.apply(this,arguments)},addTodo:function(e){return v.apply(this,arguments)},editTodo:function(e,t){return j.apply(this,arguments)},addTodoList:function(e){return y.apply(this,arguments)},getAuthState:function(){return m.apply(this,arguments)},clearMessage:function(e){return x.apply(this,arguments)}}},t)},O=a(14),y=a(9),v=a(56),j=function(e){var t=e.component,a=Object(v.a)(e,["component"]),o=Object(n.useContext)(b),l=o.isAuthenticated,r=o.getAuthState;return Object(n.useEffect)((function(){r()}),[]),c.a.createElement(y.b,Object.assign({},a,{component:function(e){return l?c.a.createElement(y.a,{to:"/dashboard"}):c.a.createElement(t,e)}}))},x=a(15),T=a(13),D=a(65),N=a(38),w=function(){var e=Object(n.useContext)(b),t=e.messages,a=e.clearMessage;return c.a.createElement("div",null,c.a.createElement("div",{style:{position:"absolute",top:0,right:0,zindex:2}},t.map((function(e){return c.a.createElement(D.a,{key:e.id,style:{background:e.success?"seagreen":"red",width:"33vw"},className:"mt-2 mr-2",onClose:function(){return t=e.id,void a(t);var t},show:!0,delay:5e3,autohide:!0,animation:!0,transition:N.a},c.a.createElement(D.a.Body,{className:"d-flex flex-nowrap"},c.a.createElement(x.a,{className:"mr-1 text-light",icon:e.success?T.d:T.j}),c.a.createElement("div",{className:"text-light"},e.message)))}))))},_=a(28),C=function(e){var t=e.toggled,a=e.handleSetToggled,o=Object(n.useContext)(b).profile,l=Object(y.h)().pathname,r=c.a.createElement("div",{className:"d-flex flex-column justify-content-around p-3"},c.a.createElement(O.b,{to:"/",className:"mx-auto"},c.a.createElement("img",{src:o.image,alt:o.displayName,className:"img-thumbnail rounded p-0 m-auto"})),c.a.createElement("div",null,c.a.createElement("h3",{className:"p-2 text-center"},o.firstName)));return c.a.createElement(_.c,{toggled:t,onToggle:a,breakPoint:"md"},c.a.createElement(_.e,null,r),c.a.createElement(_.a,{iconShape:"round"},c.a.createElement(_.b,{className:"/dashboard"===l?"todo-active-menuitem":"",active:"/dashboard"===l,icon:c.a.createElement(x.a,{icon:T.f})},"Dashboard",c.a.createElement(O.b,{to:"/dashboard"})),c.a.createElement(_.b,{className:"/add"===l?"todo-active-menuitem":"",active:"/add"===l,icon:c.a.createElement(x.a,{icon:T.h})},"Add a ToDo",c.a.createElement(O.b,{to:"/add"})),c.a.createElement(_.b,{className:"/todos/lists"===l?"todo-active-menuitem":"",icon:c.a.createElement(x.a,{icon:T.g})},"ToDo Lists",c.a.createElement(O.b,{to:"/todos/lists"}))),c.a.createElement(_.d,null,c.a.createElement(_.a,{iconShape:"round"},c.a.createElement(_.b,{icon:c.a.createElement(x.a,{icon:T.i})},c.a.createElement("a",{href:"/auth/logout"},"Logout")))))},S=function(e){var t=e.children,a=Object(n.useState)(!1),o=Object(i.a)(a,2),l=o[0],r=o[1],s=function(e){return r(e)};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"d-flex flex-row",style:{height:"100vh"}},c.a.createElement(x.a,{style:{position:"absolute",zIndex:1,left:"0",top:"0"},className:"d-md-none pt-1 pl-1",size:"2x",icon:T.a,onClick:function(){return s(!0)}}),c.a.createElement(C,{toggled:l,handleSetToggled:s}),c.a.createElement("div",{className:"m-3 w-100 bg-transparent",style:{position:"relative",zIndex:0}},c.a.Children.map(t,(function(e){var t={handleSetToggled:s};return c.a.isValidElement(e)?c.a.cloneElement(e,t):e})))),c.a.createElement(w,{style:{position:"relative",minHeight:"200px",zIndex:1}}))},k=function(e){var t=e.component,a=Object(v.a)(e,["component"]),o=Object(n.useContext)(b),l=o.isAuthenticated,r=o.getAuthState;return Object(n.useEffect)((function(){r()}),[]),c.a.createElement(y.b,Object.assign({},a,{component:function(e){return l?c.a.createElement(S,null,c.a.createElement(t,e)):c.a.createElement(y.a,{to:"/"})}}))},L=a(31),A=a(17),R=a(79),G=function(){return c.a.createElement(L.a,{centered:!0,show:!0},c.a.createElement(L.a.Header,{className:"todo-modal-header"},c.a.createElement(L.a.Title,{className:"mx-auto"},"Login")),c.a.createElement(L.a.Body,{className:"text-center"},c.a.createElement("p",null,"Login with Google to organize your life!"),c.a.createElement(A.a,{variant:"outline-primary",href:"/auth/google"},c.a.createElement("div",{className:"d-flex"},c.a.createElement("div",{className:"pr-2"},c.a.createElement(x.a,{icon:R.a})),c.a.createElement("div",null,"Sign In with Google")))))},I=a(27),Y=a.n(I),M=a(24),H=a(18),B=a(25),z=function(e){var t=e.todos,a=e.listGroup,o=Object(n.useContext)(b).editTodo;return c.a.createElement(c.a.Fragment,null,!t.length&&c.a.createElement("h6",null,"No todos in this list! Add one ",c.a.createElement(O.b,{to:"/add"},"here!")),t.length>0&&c.a.createElement(B.a,null,!!t.length&&t.map((function(e){return c.a.createElement(B.a.Item,{key:"".concat(a||"").concat(e._id).concat(e.completed?"1":"0"),variant:e.completed?"success":""},c.a.createElement(x.a,{onClick:function(){return t=!e.completed,a=e._id,void o({completed:t},a);var t,a},style:{color:e.completed?"green":"red"},className:"mr-2",icon:e.completed?T.c:T.e})," ",e.text,c.a.createElement(O.b,{className:"text-decoration-none float-right",to:"/todos/".concat(e._id)},"Edit"))}))))},F=function(){var e=Object(n.useContext)(b),t=e.todos,a=e.todoLists,o=e.profile,l=t.filter((function(e){return Y()(e.dueDate).diff(Y()(),"days")<1}));return c.a.createElement("div",{className:"w-100 pt-3 bg-todo-primary"},c.a.createElement(M.a,null,c.a.createElement("h1",{className:"todo-title"},"Welcome ",o.firstName),c.a.createElement("h3",null,"Your week at a glance..."),c.a.createElement("div",{className:"d-flex flex-column flex-md-row"},c.a.createElement(M.a,null,c.a.createElement(H.a,{className:"shadow mb-3"},c.a.createElement(H.a.Header,null,c.a.createElement("h5",null,"Due Today")),c.a.createElement(H.a.Body,{className:"todo-card-body"},l.length<1&&c.a.createElement("h6",null,"You're all caught up!"),l.length>0&&c.a.createElement(z,{todos:t.filter((function(e){return!e.completed&&Y()(e.dueDate).diff(Y()(),"days")<1}))})))),c.a.createElement(M.a,{className:"h-100"},c.a.createElement("div",{className:"h-100 d-flex flex-column justify-content-around"},a.length<1&&c.a.createElement(H.a,{className:"shadow"},c.a.createElement(H.a.Header,null,"You haven't created and lists!"),c.a.createElement(H.a.Body,{className:"todo-card-body"},"Go create one ",c.a.createElement(O.b,{to:"/todos/lists"},"here!"))),a.length>0&&a.map((function(e){return c.a.createElement(H.a,{key:e._id,className:"shadow mb-2"},c.a.createElement(H.a.Header,null,e.name),c.a.createElement(H.a.Body,{className:"todo-card-body"},c.a.createElement(z,{listGroup:e._id,todos:t.filter((function(t){return t.listGroup&&t.listGroup===e._id}))})))})))))))},V=a(54),q=a.n(V),P=a(7),J=a(39),U=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)(""),r=Object(i.a)(l,2),s=r[0],d=r[1],u=Object(n.useState)(new Date),m=Object(i.a)(u,2),p=m[0],E=m[1],f=Object(n.useState)(null),h=Object(i.a)(f,2),g=h[0],y=h[1],v=Object(n.useContext)(b),j=v.addTodo,x=v.todoLists;return c.a.createElement("div",{className:"w-100"},c.a.createElement(J.a,{className:"mt-3"},c.a.createElement(P.a,{noValidate:!0,validated:g,className:"mx-auto",onSubmit:function(e){(e.preventDefault(),!1===e.currentTarget.checkValidity())?(e.stopPropagation(),y(!0)):(j({text:a,list:s,dueDate:p}),y(!1))}},c.a.createElement("h1",null,"Create New ToDo"),c.a.createElement(P.a.Group,{controlId:"todoText"},c.a.createElement(P.a.Label,null,"New ToDo"),c.a.createElement(P.a.Control,{type:"text",placeholder:"Enter a new ToDo...",value:a,required:!0,onChange:function(e){return o(e.target.value)}})),c.a.createElement(P.a.Group,null,c.a.createElement(P.a.Label,null,"Assign to a list"),c.a.createElement(P.a.Control,{required:!0,as:"select",onChange:function(e){return d(e.target.value)}},c.a.createElement("option",{value:""},"Select a list..."),x.map((function(e){return c.a.createElement("option",{key:e._id,value:e._id},e.name)})))),c.a.createElement(P.a.Group,null,c.a.createElement(M.a,null,c.a.createElement(P.a.Label,null,"Set Due Date"),c.a.createElement("div",null,c.a.createElement(q.a,{onChange:E,value:p})))),!x.length&&c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",null,"You must create a list before you can add a ToDo!"),c.a.createElement(O.b,{to:"/todos/lists"},c.a.createElement(A.a,{variant:"info"},"Add a new list..."))),!!x.length&&c.a.createElement(A.a,{type:"submit"},"Add todo"))))},W=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],o=t[1],l=Object(n.useContext)(b),r=l.todoLists,s=l.addTodoList,d=l.deleteTodoList;return c.a.createElement(J.a,{className:"h-100 w-100"},c.a.createElement("h1",{className:"mt-3"},"ToDo Lists"),!r.length&&c.a.createElement("h4",{className:"text-center mt-3"},"You haven't created any lists yet!"),!!r.length&&c.a.createElement(c.a.Fragment,null,c.a.createElement(B.a,null,r.map((function(e){return c.a.createElement(B.a.Item,{className:"d-flex justify-content-between align-items-center",key:e._id},c.a.createElement("div",{className:"flex-fill"},e.name),c.a.createElement("div",{className:"mr-1"},Y()(e.createdAt).format("MMM D, YYYY")),c.a.createElement("div",null,c.a.createElement(A.a,{onClick:function(){return t=e._id,void d(t);var t}},"Delete")))})))),c.a.createElement(P.a,{inline:!0,onSubmit:function(e){return function(e){e.preventDefault(),s({name:a})}(e)}},c.a.createElement(P.a.Group,{controlId:"todoText"},c.a.createElement(P.a.Row,null,c.a.createElement(P.a.Control,{type:"text",className:"m-1",placeholder:"Enter a new List name...",value:a,onChange:function(e){return o(e.target.value)}}),c.a.createElement(A.a,{className:"m-1",type:"submit"},c.a.createElement(x.a,{icon:T.h}),"Add List")))))},K=a(55),Q=function(e){var t=e.show,a=e.handleCancel,n=e.confirmDelete;return c.a.createElement(L.a,{show:t,onHide:a},c.a.createElement(L.a.Header,null,"Are you sure you want to delete this todo?"),c.a.createElement(L.a.Body,null,c.a.createElement(K.a,{className:"mx-auto"},c.a.createElement(A.a,{variant:"danger",onClick:n},"Yes"),c.a.createElement(A.a,{variant:"secondary",onClick:a},"Cancel"))))},X=function(){var e=Object(y.g)(),t=Object(y.i)().id,a=Object(n.useContext)(b),o=a.todos,l=a.deleteTodo,r=o.find((function(e){return e._id===t})),s=Object(n.useState)(!1),d=Object(i.a)(s,2),u=d[0],m=d[1],p=Object(n.useState)(!1),E=Object(i.a)(p,2),f=E[0],h=E[1],g=Object(n.useState)(r.text),O=Object(i.a)(g,2),v=O[0],j=O[1],D=Object(n.useState)(r.listGroup),N=Object(i.a)(D,2),w=N[0],_=N[1],C=Object(n.useState)(r.dueDate),S=Object(i.a)(C,2),k=S[0],L=S[1],R=Object(n.useState)(r.completed),G=Object(i.a)(R,2),I=G[0],z=G[1],F=Object(n.useState)(null),V=Object(i.a)(F,2),U=V[0],W=V[1],X=Object(n.useContext)(b),Z=X.editTodo,$=X.todoLists,ee=function(e){(e.preventDefault(),!1===e.currentTarget.checkValidity())?(e.stopPropagation(),W(!0)):(Z({text:v,listGroup:w,dueDate:k,completed:I},r._id),W(!1))},te=c.a.createElement(P.a,{noValidate:!0,validated:U,className:"mx-auto",onSubmit:ee},c.a.createElement(P.a.Group,{controlId:"todoText"},c.a.createElement(P.a.Label,null,"Todo Name"),c.a.createElement(P.a.Control,{type:"text",placeholder:"Enter a todo name...",value:v,required:!0,onChange:function(e){return j(e.target.value)}})),c.a.createElement(P.a.Group,null,c.a.createElement(P.a.Label,null,"Assign to a list"),c.a.createElement(P.a.Control,{required:!0,as:"select",onChange:function(e){return _(e.target.value)},value:w},c.a.createElement("option",{value:""},"Select a list..."),$.map((function(e){return c.a.createElement("option",{key:e._id,value:e._id},e.name)})))),c.a.createElement(P.a.Row,null,c.a.createElement(M.a,null,c.a.createElement(P.a.Label,null,"Set Due Date"),c.a.createElement("div",null,c.a.createElement(q.a,{onChange:L,value:k}))),c.a.createElement(M.a,null,c.a.createElement(P.a.Check,{onChange:function(e){return z(e.target.checked)},checked:I,label:"Completed?"}))),c.a.createElement(A.a,{className:"mt-3 mx-auto",onClick:ee},"Save Changes")),ae=c.a.createElement(B.a,null,c.a.createElement(B.a.Item,null,c.a.createElement("strong",null,"Completed: "),r.completed?"All done!":"Nope!"," ",c.a.createElement(x.a,{icon:r.completed?T.b:T.e})),c.a.createElement(B.a.Item,null,c.a.createElement("strong",null,"Due Date: "),Y()(r.dueDate).format("MMMM Do, YYYY")),c.a.createElement(B.a.Item,null,c.a.createElement("strong",null,"Date added: "),Y()(r.createdAt).format("MMMM Do, YYYY")));return c.a.createElement(J.a,{className:"h-100 w-100 pt-3"},!r&&c.a.createElement("h5",{className:"text-center mt-3"},"Hmm.. can't find that todo"),!!r&&c.a.createElement(c.a.Fragment,null,c.a.createElement(Q,{show:u,confirmDelete:function(){l(r._id),e.push("/dashboard")},handleCancel:function(){return m(!1)}}),c.a.createElement(H.a,{className:"shadow mt-3"},c.a.createElement(H.a.Header,null,c.a.createElement("h1",null,r.text)),c.a.createElement(H.a.Body,null,f?te:ae),c.a.createElement(H.a.Footer,{className:"bg-secondary text-center"},c.a.createElement(H.a.Title,null,"Actions"),c.a.createElement(K.a,{className:"mx-auto"},!f&&c.a.createElement(A.a,{onClick:function(){return h(!f)}},"Edit"),f&&c.a.createElement(A.a,{onClick:function(){return h(!1)},variant:"info"},"Cancel"),c.a.createElement(A.a,{onClick:function(){return m(!0)},variant:"danger"},"Delete"))))))},Z=function(){return c.a.createElement(O.a,null,c.a.createElement(y.d,null,c.a.createElement(j,{path:"/",exact:!0,component:G}),c.a.createElement(k,{path:"/dashboard",exact:!0,component:F}),c.a.createElement(k,{path:"/add",component:U}),c.a.createElement(k,{path:"/todos/lists",exact:!0,component:W}),c.a.createElement(k,{path:"/todos/:id",component:X})))},$=(a(123),function(){return c.a.createElement(g,null,c.a.createElement(Z,null))});l.a.render(c.a.createElement($,null),document.getElementById("root"))},80:function(e,t,a){e.exports=a(125)}},[[80,1,2]]]);
//# sourceMappingURL=main.6cce17f8.chunk.js.map